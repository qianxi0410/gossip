{"pageProps":{"post":{"id":117,"title":"使用null-ls来统一neovim的格式化方案","created_at":"2023-02-01T08:43:38Z","updated_at":"2023-02-01T08:43:38Z","content":"巨硬家编辑器`vscode`在打开大型项目时，无论启动速度还是补全速度都非常地拉胯，因此还是决定将主力编辑器切换为`neovim`，配置好后，搭配上`tmux`，在终端下的体验非常的丝滑。\r\n\r\n这里我并没有从 0 开始进行配置，GitHub 上有很多不错的现成解决方案，这里我直接使用了[nvimdots](https://github.com/ayamir/nvimdots)方案。该方案使用[efm](https://github.com/mattn/efm-langserver)通用语言服务器作为格式化的解决方案，但是我觉得`efm`的配置还是太过零散，像`go`、`rust`都在自己官方内置的 LS 中自带了格式化工具，而`json`、`sh`等不自带的就需要交给`efm`来进行格式化，这样其实显得割裂，而操作起来还是比较繁琐，配置和修改都比较麻烦。\r\n\r\n相比于`efm`, 这里我比较推荐的是[null-ls](https://github.com/jose-elias-alvarez/null-ls.nvim)，作为一个和`efm`功能相似的替代品，它支持更加统一的配置方案，无论是`go`、`rust`，还是`json`、`sh`等。它支持大部分主流语言的格式化方案，基本只需要进行很少的配置。所以，现在我的`neovim`格式化方案都统一交给`null-ls`来解决，不再考虑各种语言官方的 LS 是否自带格式化工具。此外，另一个比较吸引我的是，它可以轻松的配置多个格式化工具对文件进行链式格式化。对于`go`这种需要多个格式化工具的语言来说，在使用`null-ls`的方案下，可以轻松实现`gofumpt -> goimports -> golines`的链式格式化方案，不用手敲命令行，体验还是非常地不错。\r\n","author":"qianxi0410","reactions":{"url":"https://api.github.com/repos/qianxi0410/gossip/issues/117/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"labels":["published","nvim"]}},"__N_SSG":true}